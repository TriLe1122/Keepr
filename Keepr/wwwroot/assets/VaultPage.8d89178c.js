import{_ as I,u as P,b as C,i as c,A as n,P as l,v as u,o as s,c as o,a as t,n as K,t as d,q as _,F as A,r as B,s as N,f as j,p as z,g as D,h as E}from"./index.f19533dd.js";const F={setup(){const a=P();async function r(){try{await u.getKeepsInVault(a.params.id)}catch(e){console.error("[keeps in vault]",e),l.error(e)}}async function p(){try{await u.setVaultActive(a.params.id)}catch(e){console.error("[]",e),l.error(e,"Private Vault, Stay Out"),N.push({name:"Home"}),n.activeVault=null}}return C(()=>{r(),p()}),{vault:c(()=>n.activeVault),keeps:c(()=>n.keeps),user:c(()=>n.user),account:c(()=>n.account),async removeVault(){try{await l.confirm()&&await u.removeVault(a.params.id)}catch(e){console.error("[]",e),l.error(e)}}}}},x=a=>(z("data-v-20d98b2b"),a=a(),D(),a),q={class:"component"},H={class:"container mt-3"},L={class:"row justify-content-center"},M={key:0,class:"mdi mdi-lock text-shadow fs-4"},O={class:"fs-5"},R={key:0,class:"dropdown mt-5 d-flex"},G=x(()=>t("i",{class:"mdi mdi-dots-horizontal fs-1",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},null,-1)),J={class:"dropdown-menu"},Q=x(()=>t("li",{"data-bs-toggle":"modal","data-bs-target":"#edit-vault-modal",class:"selectable"},"Edit Vault",-1)),T={key:1,class:"text-center rounded m-3"},U={class:"fs-1"},W={class:"container"},X={class:"masonry my-5"};function Y(a,r,p,e,Z,$){var m,v,h,y,f,g,V,b,k,w;const S=E("KeepCard");return s(),o("div",q,[t("section",H,[t("div",L,[t("div",{class:"col-md-8 text-center rounded-5 p-5 text-shadow cover d-flex flex-column justify-content-between",style:K({backgroundImage:`url(${(m=e.vault)==null?void 0:m.img})`})},[t("h1",null,d((v=e.vault)==null?void 0:v.name),1),t("p",null,"by "+d((y=(h=e.vault)==null?void 0:h.creator)==null?void 0:y.name),1),(f=e.vault)!=null&&f.isPrivate?(s(),o("i",M)):_("",!0),t("p",O,d((g=e.vault)==null?void 0:g.description),1)],4)]),((b=(V=e.vault)==null?void 0:V.creator)==null?void 0:b.id)==((k=e.account)==null?void 0:k.id)?(s(),o("div",R,[G,t("ul",J,[Q,t("li",{onClick:r[0]||(r[0]=i=>e.removeVault()),class:"selectable"},"Delete Vault")])])):_("",!0),e.keeps.length>0?(s(),o("div",T,[t("p",U,d((w=e.keeps)==null?void 0:w.length)+" Keeps ",1)])):_("",!0)]),t("section",W,[t("div",X,[(s(!0),o(A,null,B(e.keeps,i=>(s(),o("div",{key:i.id},[j(S,{keep:i},null,8,["keep"])]))),128))])])])}const te=I(F,[["render",Y],["__scopeId","data-v-20d98b2b"]]);export{te as default};
